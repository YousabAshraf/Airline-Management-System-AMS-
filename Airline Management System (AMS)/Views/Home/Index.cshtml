@model Airline_Management_System__AMS_.ViewModels.FlightSearchViewModel
@{
    ViewData["Title"] = "Home";
}

<!-- HERO SECTION -->
<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">Fly Beyond Boundaries</h1>
        <p class="hero-subtitle">Discover the world with AMS Airlines - Your journey begins here</p>

        <!-- FLIGHT SEARCH FORM -->
        <div class="flight-search-container">
            <form id="flightSearchForm" asp-controller="Home" asp-action="SearchFlights" method="post">
                <div class="search-form">
                    <div class="form-group">
                        <label for="Origin">
                            <i class="fas fa-plane-departure"></i> From
                        </label>
                        <input type="text" id="Origin" asp-for="Origin" class="form-control"
                            placeholder="Enter origin city" required />
                        <span asp-validation-for="Origin" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label for="Destination">
                            <i class="fas fa-plane-arrival"></i> To
                        </label>
                        <input type="text" id="Destination" asp-for="Destination" class="form-control"
                            placeholder="Enter destination city" required />
                        <span asp-validation-for="Destination" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label for="DepartureDate">
                            <i class="fas fa-calendar-alt"></i> Departure
                        </label>
                        <input type="date" id="DepartureDate" asp-for="DepartureDate" class="form-control"  />
                        <span asp-validation-for="DepartureDate" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label for="ReturnDate">
                            <i class="fas fa-calendar-check"></i> Return
                        </label>
                        <input type="date" id="ReturnDate" asp-for="ReturnDate" class="form-control"  />
                        <span asp-validation-for="ReturnDate" class="text-danger"></span>
                    </div>

                    <!-- Hidden Passenger Count (Default 1) -->
                    <input type="hidden" asp-for="PassengerCount" value="1" />
                </div>

                <div style="text-align: center;">
                    <button type="submit" class="search-btn">
                        <i class="fas fa-search"></i> Search Trips
                    </button>
                </div>
            </form>
            <br />
            @if (Model?.SearchResults != null && Model.SearchResults.Any())
            {
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Flight Number</th>
                            <th>From</th>
                            <th>To</th>
                            <th>Departure</th>
                            <th>Arrival</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var flight in Model.SearchResults)
                        {
                            <tr>
                                <td>@flight.FlightNumber</td>
                                <td>@flight.Origin</td>
                                <td>@flight.Destination</td>
                                <td>@flight.DepartureTime.ToString("g")</td>
								<td>@flight.ArrivalTime.ToString("g")</td>
                                <td>
                                    <a asp-controller="Booking"
                                       asp-action="Create"
                                       asp-route-flightId="@flight.FlightId"
                                       class="btn-primary">
                                        Book Ticket
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else if (Model != null)
            {
                <p style="text-align:center; margin-top:20px; font-size:18px;">No flights found.</p>
            }

        </div>
    </div>
</section>

<!-- FEATURED DESTINATIONS SECTION -->
<section class="destinations-section" id="destinations">
    <h2 class="section-title">Popular Destinations</h2>
    <p class="section-subtitle">Explore our most sought-after travel destinations</p>

    <div class="destinations-grid">
        <div class="destination-card" data-destination="Paris">
            <img src="~/images/destinations/paris_destination_1764761262209.png" alt="Paris, France"
                class="destination-image" />
            <div class="destination-overlay">
                <h3 class="destination-name">Paris, France</h3>
                <p class="destination-price">From $599</p>
                <button class="destination-btn">Book Now</button>
            </div>
        </div>

        <div class="destination-card" data-destination="Dubai">
            <img src="~/images/destinations/dubai_destination_1764761278133.png" alt="Dubai, UAE"
                class="destination-image" />
            <div class="destination-overlay">
                <h3 class="destination-name">Dubai, UAE</h3>
                <p class="destination-price">From $799</p>
                <button class="destination-btn">Book Now</button>
            </div>
        </div>

        <div class="destination-card" data-destination="Tokyo">
            <img src="~/images/destinations/tokyo_destination_1764761295134.png" alt="Tokyo, Japan"
                class="destination-image" />
            <div class="destination-overlay">
                <h3 class="destination-name">Tokyo, Japan</h3>
                <p class="destination-price">From $899</p>
                <button class="destination-btn">Book Now</button>
            </div>
        </div>

        <div class="destination-card" data-destination="Maldives">
            <img src="~/images/destinations/maldives_destination_1764761312305.png" alt="Maldives"
                class="destination-image" />
            <div class="destination-overlay">
                <h3 class="destination-name">Maldives</h3>
                <p class="destination-price">From $1,299</p>
                <button class="destination-btn">Book Now</button>
            </div>
        </div>

        <div class="destination-card" data-destination="New York">
            <img src="~/images/destinations/new_york_destination_1764761331522.png" alt="New York, USA"
                class="destination-image" />
            <div class="destination-overlay">
                <h3 class="destination-name">New York, USA</h3>
                <p class="destination-price">From $499</p>
                <button class="destination-btn">Book Now</button>
            </div>
        </div>

        <div class="destination-card" data-destination="London">
            <img src="~/images/destinations/london_destination_1764761347429.png" alt="London, UK"
                class="destination-image" />
            <div class="destination-overlay">
                <h3 class="destination-name">London, UK</h3>
                <p class="destination-price">From $549</p>
                <button class="destination-btn">Book Now</button>
            </div>
        </div>
    </div>
</section>

<!-- SERVICES SECTION -->
<section class="services-section" id="services">
    <h2 class="section-title">Why Choose AMS Airlines?</h2>
    <p class="section-subtitle">Experience excellence in every journey</p>

    <div class="services-grid">
        <div class="service-card">
            <div class="service-icon">
                <i class="fas fa-ticket-alt"></i>
            </div>
            <h3 class="service-title">Easy Booking</h3>
            <p class="service-description">
                Book your flights in minutes with our intuitive platform. Simple, fast, and secure.
            </p>
        </div>

        <div class="service-card">
            <div class="service-icon">
                <i class="fas fa-plane"></i>
            </div>
            <h3 class="service-title">Flight Management</h3>
            <p class="service-description">
                Manage your bookings, check flight status, and make changes effortlessly.
            </p>
        </div>

        <div class="service-card">
            <div class="service-icon">
                <i class="fas fa-headset"></i>
            </div>
            <h3 class="service-title">24/7 Support</h3>
            <p class="service-description">
                Our dedicated team is always here to assist you, anytime, anywhere.
            </p>
        </div>

        <div class="service-card">
            <div class="service-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <h3 class="service-title">Secure Payments</h3>
            <p class="service-description">
                Your transactions are protected with industry-leading security measures.
            </p>
        </div>
    </div>
</section>

<!-- TESTIMONIALS SECTION -->
<section class="testimonials-section">
    <h2 class="section-title">What Our Customers Say</h2>
    <p class="section-subtitle">Real experiences from real travelers</p>

    <div class="testimonials-container">
        <div class="testimonial-card">
            <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
            </div>
            <p class="testimonial-text">
                "AMS Airlines made my trip to Paris absolutely seamless. The booking process was straightforward,
                and the customer service was exceptional. Highly recommended!"
            </p>
            <div class="testimonial-author">
                <div class="author-avatar">SM</div>
                <div class="author-info">
                    <h4>Sarah Mitchell</h4>
                    <p>Business Traveler</p>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script src="~/js/home.js" asp-append-version="true"></script>
    <partial name="_ValidationScriptsPartial" />
}



@if (TempData["BookingSuccess"] != null)
{
    <div id="bookingToast" class="toast-message">
        @TempData["BookingSuccess"]
    </div>
}

<style>
    .toast-message {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: rgba(0, 0, 0, 0.85); 
        color: #fff;
        padding: 15px 25px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        font-size: 16px;
        z-index: 9999;
        opacity: 0;
        transform: translateY(-20px);
        transition: opacity 0.5s ease, transform 0.5s ease;
    }

        .toast-message.show {
            opacity: 1;
            transform: translateY(0);
        }

</style>

<script>
window.addEventListener('DOMContentLoaded', () => {
    const toast = document.getElementById('bookingToast');
    if(toast){
        toast.classList.add('show');
        setTimeout(() => {
            toast.classList.remove('show');
        }, 4000); 
    }
});
</script>

