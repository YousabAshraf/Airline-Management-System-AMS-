@model Airline_Management_System__AMS_.Models.Booking

@{
    ViewData["Title"] = "Booking Details";
}

<link rel="stylesheet" href="~/css/admin-dashboard.css" />

<style>
    .avatar-circle.bg-primary {
        background-color: #002244 !important;
    }

    .text-primary {
        color: #002244 !important;
    }

    .btn-warning {
        background-color: #FF6600 !important;
        border-color: #FF6600 !important;
        color: white !important;
    }

        .btn-warning:hover {
            background-color: #CC5200 !important;
            border-color: #CC5200 !important;
        }

    .card-header h5 {
        color: #002244 !important;
    }
</style>

<div class="container py-4">
    <div class="row justify-content-center">
        <!-- Booking Profile Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow border-0 rounded-3 h-100 text-center">
                <div class="card-body pt-5">
                    <div class="avatar-circle mx-auto mb-3 bg-primary text-white d-flex align-items-center justify-content-center rounded-circle shadow-sm"
                         style="width: 100px; height: 100px; font-size: 2.5rem;">
                        <i class="fas fa-ticket-alt"></i>
                    </div>

                    <h3 class="fw-bold text-primary mb-1">@Model.Passenger.FullName</h3>
                    <p class="text-muted mb-3"><B>Booking Reference:</B> AMS-@Model.Id.ToString("D6")</p>

                    <span class="badge @(Model.Status == Airline_Management_System__AMS_.Models.BookingStatus.Booked ? "bg-primary" :
                          Model.Status == Airline_Management_System__AMS_.Models.BookingStatus.CheckedIn ? "bg-success" :
                          "bg-danger") mb-4 px-3 py-2">@Model.Status
                    </span>

                    <div class="d-grid gap-2">
                        <a asp-action="EditByAdmin" asp-route-id="@Model.Id" class="btn btn-warning">
                            <i class="fas fa-edit me-2"></i>Edit Booking
                        </a>
                        <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-outline-danger"
                           onclick="return confirm('Are you sure you want to delete this booking? This action cannot be undone.');">
                            <i class="fas fa-trash me-2"></i>Delete Booking
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Booking Details Card -->
        <div class="col-md-8 mb-4">
            <div class="card shadow border-0 rounded-3 mb-4">
                <div class="card-header bg-white py-3 border-bottom">
                    <h5 class="mb-0 fw-bold text-primary"><i class="fas fa-info-circle me-2"></i>Booking Information</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-sm-6">
                            <label class="text-muted small text-uppercase fw-bold">Passenger</label>
                            <div class="mt-1 fw-medium">@Model.Passenger.FullName</div>
                        </div>
                        <div class="col-sm-6">
                            <label class="text-muted small text-uppercase fw-bold">Email</label>
                            <div class="mt-1 fw-medium">@Model.Passenger.Email</div>
                        </div>
                        <div class="col-sm-6">
                            <label class="text-muted small text-uppercase fw-bold">Flight</label>
                            <div class="mt-1 fw-medium">@Model.Flight.FlightNumber (@Model.Flight.Origin → @Model.Flight.Destination)</div>
                        </div>
                        <div class="col-sm-6">
                            <label class="text-muted small text-uppercase fw-bold">Aircraft Type</label>
                            <div class="mt-1 fw-medium">@Model.Flight.AircraftType </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="text-muted small text-uppercase fw-bold">Seat Number</label>
                            <div class="mt-1 fw-medium">@Model.SeatNumber</div>
                        </div>
                        <div class="col-sm-6">
                            <label class="text-muted small text-uppercase fw-bold">Price</label>
                            <div class="mt-1 fw-medium">$@Model.TicketPrice.ToString("N2")</div>
                        </div>
                        <div class="col-sm-6">
                            <label class="text-muted small text-uppercase fw-bold">Class</label>
                            <div class="mt-1 fw-medium">@ViewBag.Class</div>
                        </div>
                        
                        <div class="col-sm-6">
                            <label class="text-muted small text-uppercase fw-bold">Booking Date</label>
                            <div class="mt-1 fw-medium">@Model.BookingDate.ToString("MMM dd, yyyy hh:mm tt")</div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="mt-3 text-center">
        <a asp-action="Index" class="btn btn-link text-decoration-none text-muted">
            <i class="fas fa-arrow-left me-2"></i>Back to Booking List
        </a>
    </div>
</div>
